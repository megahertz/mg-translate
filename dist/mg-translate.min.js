"use strict";!function(){function provider(){function service(a,r,n){function t(a,r,n){return r?loadData(a,r,n):e(a)}function e(r){return r.then||(r=a.get(r)),r.then(function(a){var r=a.data;return r.$plural&&loadData(r.language,"$plural",r.$plural),loadData(r.language,r.category||"app",r.data),r})}function l(a){language(a),r.$emit("$languageChange",a)}return preloadResources.length&&angular.forEach(preloadResources,e),void 0===currentLang&&(currentLang=defaultLang()),translate.load=t,translate.language=l,translate}function preload(a,r,n){return r?loadData(a,r,n):void preloadResources.push(a)}function loadData(a,r,n){n||(n=r,r="app");var t=translations[a]=translations[a]||{},e=t[r]=t[r]||{};return"$plural"===r?void(t.$plural=n):void angular.extend(e,n)}function language(a){return a?(useDefaultLang&&window.localStorage&&(localStorage.lang=a),void(currentLang=a)):currentLang}function defaultLang(){if(useDefaultLang=!0,window.localStorage&&localStorage.lang)return localStorage.lang;var a=navigator.language||navigator.userLanguage||"en",r=a.indexOf("_");return-1!==r?a.slice(0,r):a}function translate(a,r,n){return n=n||"app",translations[currentLang]&&translations[currentLang][n]&&translations[currentLang][n][a]&&(a=translations[currentLang][n][a]),void 0===r?a:("object"==typeof r?a=applyParams(a,r):"number"==typeof r&&-1!==a.indexOf("|")&&(a=applyPluralForm(a,r,translations[currentLang].$plural||translations.en.$plural)),-1!==a.indexOf("{n}")&&(a=a.replace("{n}",r)),a)}function applyParams(a,r){for(var n in r)r.hasOwnProperty(n)&&(a=a.replace(new RegExp("{"+n+"}","g"),r[n]));return a}function applyPluralForm(message,number,rules){"string"==typeof rules&&(rules=eval("rules="+rules));var chunks=message.split("|"),result=chunks[rules(number)];return void 0===result&&(result=chunks[0]),result}service.$inject=["$http","$rootScope","$window"];var translations={en:{$plural:function(a){return 1===Math.floor(Math.abs(a))?0:1}}},currentLang,useDefaultLang=!1,preloadResources=[];return{load:preload,$get:service,language:language}}function filter(a){return function(r,n,t){return a(r,n,t)}}function directive(a,r){function n(n,t,e){function l(){angular.forEach(i.split(","),function(r){"html"===r?t.html(a(s.html,o,u)):t.attr(r,a(s[r],o,u))})}var u=e.category||"app",o=n.$eval(e.values),i=e.t||"html",s={};angular.forEach(i.split(","),function(a){"html"===a?s[a]=t.html():s[a]=t.attr(a),s[a]&&s[a].trim&&(s[a]=s[a].trim())}),r.$on("$languageChange",l),l()}return{link:n,restrict:"EA",scope:!0}}filter.$inject=["t"],directive.$inject=["t","$rootScope"],angular.module("mg.translate",[]).provider("t",provider).filter("t",filter).directive("t",directive)}();
//# sourceMappingURL=mg-translate.min.js.map